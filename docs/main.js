!function(i,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.File=e():i.File=e()}(self,(()=>(()=>{"use strict";var i={d:(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(i,e)=>Object.prototype.hasOwnProperty.call(i,e),r:i=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},e={};i.r(e),i.d(e,{default:()=>n});const t={size:2e6,messages:{invalidSize:"Le poids de votre fichier est trop lourd",invalidType:"Le type de votre fichier est incorrect",invalidFile:"Aucun fichier n'a été sélectionné"},types:["image/jpeg","image/jpg","image/png","application/pdf"]};class n{constructor(i,e={}){this.$input=null,this.$information=null,this.el=i,this.options={...t,...e},this.$input=this.el.querySelector("[type=file]"),this.$information=this.el.querySelector(".js-information")}init(){if(null===this.el||void 0===this.el)return!1;this.initEvents()}initEvents(){this.el.addEventListener("click",(()=>this.$input&&this.$input.click())),this.$input.addEventListener("change",(i=>this.change(i)))}change(i){var e,t,n,o,s,r;i.preventDefault();const{files:l}=this.$input;return!(null!==l&&void 0!==l[0]&&(this.el.removeAttribute("aria-invalid"),0===l.length?(this.$information.innerHTML=null!==(n=null===(t=null===(e=this.options)||void 0===e?void 0:e.messages)||void 0===t?void 0:t.invalidFile)&&void 0!==n?n:"",this.el.setAttribute("aria-invalid","true"),1):((i,e)=>{for(let t=0;t<e.length;t+=1)if(i.type===e[t])return!0;return!1})(l[0],this.options.types)?this.options.size&&l[0].size>this.options.size?(this.$information.innerHTML=this.options.messages?`${this.options.messages.invalidSize} (${(i=>{let e=`${(i/1048576).toFixed(1)} Mo`;return 1024>i?e=`${i} octets`:1024<=i&&1048576>i&&(e=`${(i/1024).toFixed(1)} Ko`),e})(l[0].size)})`:"",this.el.setAttribute("aria-invalid","true"),1):(this.$information.innerHTML=l[0].name,0):(this.$information.innerHTML=null!==(r=null===(s=null===(o=this.options)||void 0===o?void 0:o.messages)||void 0===s?void 0:s.invalidType)&&void 0!==r?r:"",this.el.setAttribute("aria-invalid","true"),1)))}}return e})()));